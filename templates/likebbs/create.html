{% extends "base.html" %}

{% block title %}{% if object %} - 投稿編集{% else %} - 新規投稿{% endif %}{% endblock %}

{% block content %}
<div class="container">
    <h1>{% if object %}投稿の編集{% else %}新規投稿{% endif %}</h1>

    <form action="" method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.title.id_for_label }}">{{ form.title.label }}:</label>
            {{ form.title }}
            {% if form.title.errors %}
                <div class="error">{{ form.title.errors }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.genre.id_for_label }}">{{ form.genre.label }}:</label>
            {{ form.genre }}
            {% if form.genre.errors %}
                <div class="error">{{ form.genre.errors }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.content.id_for_label }}">{{ form.content.label }}:</label>
            {{ form.content }}
            {% if form.content.errors %}
                <div class="error">{{ form.content.errors }}</div>
            {% endif %}
        </div>
        
        <button type="submit" class="btn">
            {% if object %}更新{% else %}作成{% endif %}
        </button>
    </form>
</div>

<div style="text-align: center; margin-top: 20px;">
    {% if object %}
        <a href="{% url 'likebbs:detail' object.pk %}">投稿詳細へ戻る</a> |
    {% endif %}
    <a href="{% url 'likebbs:index' %}">投稿一覧へ戻る</a>
</div>
{% endblock %}